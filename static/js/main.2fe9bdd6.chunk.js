(this["webpackJsonpsome-react-app"]=this["webpackJsonpsome-react-app"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(7),r=n.n(i),o=(n(13),n(14),n(1)),l=n(2),s=n(4),u=n(3),d=n(5),m=(n(15),n(16),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getForecast",value:function(){fetch("https://api.weather.yandex.ru/v1/forecast?lang=ru&lat="+this.props.city.lat+"&lon="+this.props.city.lon,{headers:new Headers({"X-Yandex-API-Key":"1b8e7243-8941-47da-aab6-e07097769c7a"})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){console.log(3232),this.getForecast()}},{key:"render",value:function(){return c.a.createElement("div",{className:"CityForecast"},c.a.createElement("div",null,this.props.city.name),c.a.createElement("div",null,this.props.city.country),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}}]),t}(a.Component)),h=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={searchField:"",cities:[],selectedCity:{country:"\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d",lat:"43.238293",lon:"76.945465",name:"\u0410\u043b\u043c\u0430\u0442\u044b"},showCities:!0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getCities",value:function(){var e=this;fetch("https://geocode-maps.yandex.ru/1.x/?apikey=ff4781d8-005f-4319-9140-9fac60c1f425&format=json&geocode="+this.state.searchField+"&results=5").then((function(e){return e.json()})).then((function(t){var n=t.response.GeoObjectCollection.featureMember;e.setState({cities:n.filter((function(e){return"locality"===e.GeoObject.metaDataProperty.GeocoderMetaData.kind})).map((function(e){var t=e.GeoObject,n=t.Point,a=t.metaDataProperty.GeocoderMetaData,c=t.name;return{lon:n.pos.split(" ")[0],lat:n.pos.split(" ")[1],name:c,country:a.AddressDetails.Country.CountryName}}))}),console.log(e.state.cities)}))}},{key:"selectCity",value:function(e){this.setState({selectedCity:e,cities:[]})}},{key:"searchInput",value:function(e){var t=this;if(clearTimeout(window.counter),this.setState({searchField:e,selectedCity:null}),""===e)return this.setState({cities:[]});window.counter=setTimeout((function(){return t.getCities()}),1e3)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"CitySelector"},c.a.createElement("div",null,c.a.createElement("div",{className:"CitySelector-search"},c.a.createElement("input",{className:"CitySelector-search",id:"standard-uncontrolled",label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u043e\u0440\u043e\u0434...",onChange:function(t){return e.searchInput(t.target.value)}}),c.a.createElement("div",{className:"CitySelector-list"},this.state.cities.map((function(t,n){return c.a.createElement("div",{key:n,onClick:function(){return e.selectCity(t)}},c.a.createElement("div",null,t.name),c.a.createElement("div",null,t.country))}))),null!==this.state.selectedCity?c.a.createElement(m,{city:this.state.selectedCity}):"")))}}]),t}(a.Component);var p=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.2fe9bdd6.chunk.js.map